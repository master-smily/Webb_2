/**
 * Created by master_smily on 2017-05-20.
 */
function Block(a,b){this.bomb=!1,this.checked=!1,this.mark=!1,this.neighbors=[],this.x=a,this.y=b,this.bombAtPos=function(a,b){try{return data[a][b].bomb}catch(a){return!1}},this.checkNeighbors=function(){const a=this.x,b=this.y;this.bombAtPos(a-1,b-1)||this.neighbors.push({x:a-1,y:b-1}),this.bombAtPos(a,b-1)||this.neighbors.push({x:a,y:b-1}),this.bombAtPos(a+1,b-1)||this.neighbors.push({x:a+1,y:b-1}),this.bombAtPos(a-1,b)||this.neighbors.push({x:a-1,y:b}),this.bombAtPos(a+1,b)||this.neighbors.push({x:a+1,y:b}),this.bombAtPos(a-1,b+1)||this.neighbors.push({x:a-1,y:b+1}),this.bombAtPos(a,b+1)||this.neighbors.push({x:a,y:b+1}),this.bombAtPos(a+1,b+1)||this.neighbors.push({x:a+1,y:b+1});for(let a=0;a<this.neighbors.length;a++){let b=this.neighbors[a];(b.x<0||b.x>=WIDTH||b.y<0||b.y>=HEIGHT)&&(this.neighbors[a]=null)}},this.clearNeighbours=function(){this.neighbors.forEach(function(a){null===a||data[a.x][a.y].checked||(8===data[a.x][a.y].neighbors.length&&clearingStack.push(a),data[a.x][a.y].checked=!0,count++)})}}